<ion-header>
  <ion-toolbar color = "primary">
    <ion-buttons>
      <ion-button (click)="navProf()">
        <ion-icon name="arrow-undo-outline"></ion-icon>
      </ion-button>      
      <ion-avatar>
        <img src="https://www.cs.buap.mx/~secreacademica/images/minerva_icon.png">
      </ion-avatar>
      <ion-label >Usuario: {{user}}</ion-label>
    </ion-buttons>
  </ion-toolbar>  
</ion-header>

<ion-content>
  <ion-card>

    <ion-card>
      <ion-header>
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-menu-button (click)="OpenMenuProf()" color = "primary" autoHide="false" menu="MenuProf"></ion-menu-button>
            <ion-title> Chat </ion-title><br>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
    </ion-card>


   <ion-card-content>
    <!-- <h1>
      Angular 2 WebSockets Tutorial
    </h1>
    <ion-button (click)="sendMsg()">Send Message</ion-button> -->
    <!-- <div class="chatContainer">
      <tr *ngFor="let messenger of messengers">
      
        <p class="local" *ngIf="messenger.matricula==null">{{messenger.mensaje}} - PROFESOR</p>
        <p class="remoto" *ngIf="messenger.matricula!=null">{{messenger.mensaje}} - ALUMNO</p> -->
          
        <!-- <p class="local" *ngIf="messenger.matricula==null">{{messenger.mensaje}} - {{profesores[messenger.noTrabajador].nombre}}</p>
        <p class="remoto" *ngIf="messenger.matricula!=null">{{messenger.mensaje}} - {{alumnos[messenger.matricula].nombre}}</p> -->
      
      <!-- </tr>
    </div> -->

    <!-- <div class="InputContainer">
      <form (submit)="enviarMensaje()" (submit)="sendMsg()">
        <input [(ngModel)]="chat.mensaje" [ngModelOptions]="{standalone:true}" type="string" placeholder="Ingresa un mensaje!!!">
      </form>
    </div> -->

    <div class="chatContainer">
      <p [ngClass]="{'local': message.type === 1, 'remoto': message.type === 2}" 
          *ngFor="let message of webSocketService.chats">{{message.text}}</p>
      <!-- //<p class="remoto">Mensaje remoto</p> -->
    </div>
    
    <div class="inputContainer">
        <!-- <form (submit)="sendMessage()" (submit)="mensajeRecibido()" > -->
        <form (submit)="sendMessage()" >
            <input [(ngModel)]="text" [ngModelOptions]="{standalone:true}" type="text">
            <!-- <button (click)="sendMessage()"></button> -->
        </form>
    </div>

    <!-- <ion-button > Enviar </ion-button><br><br> -->
   </ion-card-content>

  </ion-card>
</ion-content>

<ion-footer>
  <ion-toolbar color = "primary"></ion-toolbar>
</ion-footer>
